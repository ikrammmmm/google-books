(this["webpackJsonpgoogle-books"]=this["webpackJsonpgoogle-books"]||[]).push([[0],{37:function(e,t,a){},39:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),c=a(30),r=a.n(c),o=(a(37),a(31)),i=a(2),l=(a(38),a(39),a(9)),u=a(10),d=a(12),b=a(11),j=a(0),h=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(j.jsxs)("nav",{class:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(j.jsx)("a",{class:"navbar-brand",href:"#",children:"Google Books Saver"}),Object(j.jsx)("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(j.jsx)("span",{class:"navbar-toggler-icon"})}),Object(j.jsx)("div",{class:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:Object(j.jsxs)("div",{class:"navbar-nav",children:[Object(j.jsx)("a",{class:"nav-item nav-link ",href:"/",children:"Search "}),Object(j.jsx)("a",{class:"nav-item nav-link",href:"/saved",children:"Saved Books"})]})})]})}}]),a}(n.Component),p=a(7),v=a.n(p),m=a(13),f=a(16),O=a.n(f);Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT;function x(e){return k.apply(this,arguments)}function k(){return(k=Object(m.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("http://localhost:3000/api/books",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(m.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("http://localhost:3000/api/books");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return y.apply(this,arguments)}function y(){return(y=Object(m.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O.a.post("http://localhost:3000/api/books/"+t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).Addtofav=function(){var e=Object(m.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:(a=(a=e.sent).data).error,alert(a.message);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.delete=function(){var t=Object(m.a)(v.a.mark((function t(a){var n,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a._id,t.next=3,S(n);case 3:(s=(s=t.sent).data).error||e.props.deleteBook(a.book_id),alert(s.message);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props.book,a="btn-success",n="Save Book";this.props.saved&&(a="btn-danger",n="Remove");var s,c=t.authors,r="",o=t.link?t.link:"#",i=t.description?t.description.substring(0,80):"";return c&&c.map((function(e,t){2==t&&(r+=", "),r+=e})),t.image,s=t.image,Object(j.jsxs)("div",{className:"col col-md-4 card m-1",children:[Object(j.jsx)("img",{className:"card-img-top img-thumbnail",src:s,alt:"Card image cap"}),Object(j.jsxs)("div",{class:"card-body",children:[Object(j.jsx)("h5",{className:"card-title",children:t.title}),Object(j.jsxs)("p",{className:"card-text",children:["Auhtors : ",r]}),Object(j.jsxs)("p",{className:"card-text",children:["Publisher : ",t.publisher]}),Object(j.jsxs)("p",{className:"card-text",children:["Published Year : ",t.publishedDate]}),Object(j.jsxs)("p",{className:"card-text",title:t.description,children:["Description : ",i]}),Object(j.jsxs)("div",{className:"card-buton-row",children:[Object(j.jsx)("a",{href:o,className:"btn btn-primary",children:"View Book"}),Object(j.jsx)("a",{className:"btn  float-right "+a,onClick:this.props.saved?function(){return e.delete(t)}:function(){return e.Addtofav(t)},children:n})]})]})]})}}]),a}(n.Component),w=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).updateSearchText=function(e){e.target.value?(n.setState({isLoaded:!1}),n.setState({searchText:e.target.value})):(n.setState({isLoaded:!0}),n.setState({isEmpty:!0}))},n.searchBooks=function(){(function(e){return O.a.get("https://www.googleapis.com/books/v1/volumes?q="+e+"&maxResults=20&key="+Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_KEY)})(n.state.searchText).then((function(e){e.data.items?(n.setState({books:e.data.items}),n.setState({isEmpty:!1}),n.setState({isLoaded:!0})):(n.setState({books:[]}),n.setState({isEmpty:!0}),n.setState({isLoaded:!0}))}))},n.state={books:[],isLoaded:!0,searchText:null,isEmpty:!0},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.isEmpty,n=t.books,s=t.isLoaded,c=t.searchText;return Object(j.jsxs)("div",{className:"container mt-4",children:[Object(j.jsx)("div",{className:"row  d-flex justify-content-center",children:Object(j.jsx)("div",{className:"col ",children:Object(j.jsx)("center",{children:Object(j.jsx)("h1",{children:"Google Book Search"})})})}),Object(j.jsxs)("div",{className:"row  d-flex justify-content-center",children:[Object(j.jsx)("div",{className:"col col-md-6",children:Object(j.jsx)("input",{type:"text",value:this.searchText,onChange:function(t){return e.updateSearchText(t)},className:"form-control"})}),Object(j.jsx)("div",{className:"col col-md-3",children:Object(j.jsx)("button",{type:"button",className:"btn btn-success",onClick:this.searchBooks,children:"Search"})})]}),Object(j.jsx)("div",{className:"row  d-flex justify-content-center",children:c&&!s?Object(j.jsx)("div",{className:"row  d-flex justify-content-center mt-4",children:Object(j.jsx)("div",{className:"col",children:Object(j.jsx)("center",{children:"Searching..."})})}):a?Object(j.jsx)("div",{className:"row  d-flex justify-content-center mt-4",children:Object(j.jsx)("div",{className:"col",children:Object(j.jsx)("center",{children:"No Books Found..."})})}):Object(j.jsx)("div",{className:"row  d-flex justify-content-center mt-4",children:n.map((function(e,t){var a="",n=e.volumeInfo.authors,s=e.volumeInfo.canonicalVolumeLink?e.volumeInfo.canonicalVolumeLink:"#";e.volumeInfo.imageLinks&&(a=e.volumeInfo.imageLinks.smallThumbnail);var c={title:e.volumeInfo.title,image:a,book_id:e.id,link:s,description:e.volumeInfo.description,authors:n,publisher:e.volumeInfo.publisher,publishedDate:e.volumeInfo.publishedDate};return Object(j.jsx)(N,{book:c,saved:!1})}))})})]})}}]),a}(n.Component),E=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).deleteBook=function(e){var t=n.state.books.filter((function(t){return e!=t.book_id}));n.setState({books:t}),t.length>0?n.setState({isEmpty:!1}):n.setState({isEmpty:!0})},n.state={books:[],isEmpty:!0},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;(function(){return g.apply(this,arguments)})().then((function(t){e.setState({books:t.data}),t.data.length>0&&e.setState({isEmpty:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.isEmpty,n=t.books;return Object(j.jsxs)("div",{className:"container mt-4",children:[Object(j.jsx)("div",{className:"row  d-flex justify-content-center",children:Object(j.jsx)("div",{className:"col ",children:Object(j.jsx)("center",{children:Object(j.jsx)("h1",{children:"Google Book Search"})})})}),Object(j.jsx)("div",{className:"row  d-flex justify-content-center mt-4",children:a?Object(j.jsx)("center",{children:"No Books Found"}):n.map((function(t,a){return Object(j.jsx)(N,{book:t,saved:!0,deleteBook:e.deleteBook},a)}))})]})}}]),a}(n.Component);var T=function(){return Object(j.jsxs)(o.a,{children:[Object(j.jsx)(h,{}),Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{path:"/",exact:!0,component:w}),Object(j.jsx)(i.a,{path:"/saved",component:E})]})]})},_=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,66)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};r.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(T,{})}),document.getElementById("root")),_()}},[[65,1,2]]]);
//# sourceMappingURL=main.5f00e227.chunk.js.map