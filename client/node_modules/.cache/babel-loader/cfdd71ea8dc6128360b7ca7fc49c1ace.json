{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jasimsharook/Desktop/freelancer/google-books/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jasimsharook/Desktop/freelancer/google-books/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/jasimsharook/Desktop/freelancer/google-books/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jasimsharook/Desktop/freelancer/google-books/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jasimsharook/Desktop/freelancer/google-books/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jasimsharook/Desktop/freelancer/google-books/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{saveBook,deleteBook}from\"../helpers/api_helper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Bookcard=/*#__PURE__*/function(_Component){_inherits(Bookcard,_Component);var _super=_createSuper(Bookcard);function Bookcard(){var _this;_classCallCheck(this,Bookcard);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.Addtofav=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(book){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return saveBook(book);case 2:data=_context.sent;data=data.data;if(data.error){alert(data.message);}else{alert(data.message);}case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.delete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(book){var id,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:id=book._id;_context2.next=3;return deleteBook(id);case 3:data=_context2.sent;data=data.data;if(!data.error){_this.props.deleteBook(book.book_id);alert(data.message);}else{alert(data.message);}case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();return _this;}_createClass(Bookcard,[{key:\"componentDidMount\",value:function componentDidMount(){document.title='Google Book Search';}},{key:\"render\",value:function render(){var _this2=this;var book=this.props.book;var btn_class=\"btn-success\";var btn_text=\"Save Book\";if(this.props.saved){btn_class=\"btn-danger\";btn_text=\"Remove\";}var image=\"\";var authorsObject=book.authors;var authors=\"\";var link=book.link?book.link:\"#\";var description=book.description?book.description.substring(0,80):'';if(authorsObject){authorsObject.map(function(author,index){if(index==2)authors+=\", \";authors+=author;});}if(book.image){}image=book.image;return/*#__PURE__*/_jsxs(\"div\",{className:\"col col-md-4 card m-1\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"card-img-top img-thumbnail\",src:image,alt:\"Card image cap\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:book.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"Auhtors : \",authors]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"Publisher : \",book.publisher]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"Published Year : \",book.publishedDate]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",title:book.description,children:[\"Description : \",description]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-buton-row\",children:[/*#__PURE__*/_jsx(\"a\",{href:link,className:\"btn btn-primary\",children:\"View Book\"}),/*#__PURE__*/_jsx(\"a\",{className:\"btn  float-right \"+btn_class,onClick:this.props.saved?function(){return _this2.delete(book);}:function(){return _this2.Addtofav(book);},children:btn_text})]})]})]});}}]);return Bookcard;}(Component);export{Bookcard as default};","map":{"version":3,"sources":["/Users/jasimsharook/Desktop/freelancer/google-books/client/src/templates/bookcard.js"],"names":["React","Component","saveBook","deleteBook","Bookcard","Addtofav","book","data","error","alert","message","delete","id","_id","props","book_id","document","title","btn_class","btn_text","saved","image","authorsObject","authors","link","description","substring","map","author","index","publisher","publishedDate"],"mappings":"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","sourcesContent":["import React,{Component}  from 'react';\nimport {saveBook,deleteBook} from \"../helpers/api_helper\"\n\n\nexport default class Bookcard extends Component {\n    componentDidMount() {\n        document.title = 'Google Book Search';\n      }\n    Addtofav = async (book) =>\n    {\n     \n        var data = await saveBook(book)\n        data = data.data\n        if(data.error)\n        {\n            alert(data.message);\n        }\n        else{\n            alert(data.message);\n        }\n    }\n    delete = async (book) =>\n    {\n        var id = book._id;\n        var data = await deleteBook(id)\n        data = data.data\n        if(!data.error)\n        {\n            this.props.deleteBook(book.book_id)\n            alert(data.message);\n        }\n        else{\n            alert(data.message);\n        }\n    }\n    render()\n    {\n        var book = this.props.book\n        var btn_class = \"btn-success\";\n        var btn_text   = \"Save Book\"\n        if(this.props.saved) {\n            btn_class = \"btn-danger\";\n            btn_text   = \"Remove\"\n        }\n        var image = \"\";\n        var authorsObject = book.authors;\n        var authors = \"\"\n        var link = book.link ? book.link : \"#\";\n        var description = book.description ? book.description.substring(0, 80) : '' ;\n        if(authorsObject)\n        {  \n            authorsObject.map((author,index) =>{\n                if(index ==2) authors += \", \"\n                authors += author;\n                })\n        }\n        if(book.image){} image = book.image;\n        return (\n            <div className=\"col col-md-4 card m-1\" >\n                <img className=\"card-img-top img-thumbnail\" src={image}  alt=\"Card image cap\"/>\n                <div class=\"card-body\">\n                    <h5 className=\"card-title\">{book.title}</h5>\n                    <p className=\"card-text\">Auhtors : {authors}</p>\n                    <p className=\"card-text\">Publisher : {book.publisher}</p>\n                    <p className=\"card-text\">Published Year : {book.publishedDate}</p>\n                    <p className=\"card-text\" title={book.description}>Description : {description}</p>\n                    <div className=\"card-buton-row\">\n                        <a  href={link}  className=\"btn btn-primary\">View Book</a>\n                        <a className={\"btn  float-right \"+btn_class} onClick={ this.props.saved ? () => this.delete(book) :  () => this.Addtofav(book)}>{btn_text}</a>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}